<head>
	<meta charset="utf-8">
	<meta name="generator" content="{{ hugo.Generator }}" />
	<title>
		{{ if isset .Params "og_title" }}
		{{ .Params.og_title }}
		{{ else if eq .RelPermalink "/" }}
		{{ .Site.Params.TitleSuffix }}
		{{ else if eq .Section "post" }}
		{{ .Title }}
		{{ else }}
		{{ .Title }} | {{ .Site.Params.TitleSuffix }}{{ end }}
	</title>

	{{ if isset .Params "og_title" }}
	<meta property="og:title" content="{{ .Params.og_title }}" />
	{{ else if eq .RelPermalink "/" }}
	<meta property="og:title" content="{{ .Site.Params.TitleSuffix }}" />
	{{ else if eq .Section "post" }}
	<meta property="og:title" content="{{ .Title }}" />
	{{ else }}
	<meta property="og:title" content="{{ .Title }} | {{ .Site.Params.TitleSuffix }}" />
	{{ end }}
	{{ if eq .Section "post" }}
	<meta property="og:type" content="article" />
	{{ else }}
	<meta property="og:type" content="website" />
	{{ end }}

	{{ $defaultDescription := .Site.Params.Tagline | plainify | strings.TrimSpace }}
	{{ $description := $defaultDescription }}
	{{ if .IsPage }}
		{{ if .Params.description }}
			{{ $description = .Params.description | plainify | strings.TrimSpace }}
		{{ else if .Description }}
			{{ $description = .Description | plainify | strings.TrimSpace }}
		{{ else if .Summary }}
			{{ $description = .Summary | plainify | strings.TrimSpace }}
		{{ else if .Plain }}
			{{ $description = .Plain | plainify | strings.TrimSpace }}
		{{ end }}
	{{ else if not .IsHome }}
		{{ if .Description }}
			{{ $description = .Description | plainify | strings.TrimSpace }}
		{{ else if .Summary }}
			{{ $description = .Summary | plainify | strings.TrimSpace }}
		{{ else if .Title }}
			{{ $description = printf "%s | %s" .Title .Site.Params.TitleSuffix | plainify | strings.TrimSpace }}
		{{ end }}
	{{ end }}
	{{ $description = $description | truncate 160 }}
	<meta name="description" content="{{ $description }}" />
	<meta property="og:description" content="{{ $description }}" />

	{{ $canonicalURL := .Permalink }}
	{{ if .IsHome }}
		{{ $canonicalURL = .Site.BaseURL | absURL }}
	{{ end }}
	<meta property="og:url" content="{{ .Permalink }}">
	<link rel="canonical" href="{{ $canonicalURL }}">
	<meta property="og:site_name" content="{{ .Site.Params.SiteName }}">
	{{ $ogImage := "" }}
	{{ if isset .Params "og_image" }}
		{{ $img := .Params.og_image }}
		{{ if reflect.IsSlice $img }}{{ $img = index $img 0 }}{{ end }}
		{{ $ogImage = ($img | absURL) }}
	{{ else if isset .Params "image" }}
		{{ $img := .Params.image }}
		{{ if reflect.IsSlice $img }}{{ $img = index $img 0 }}{{ end }}
		{{ $ogImage = ($img | absURL) }}
	{{ else }}
		{{ $ogImage = ("img/share.jpg" | absURL) }}
	{{ end }}
	<meta property="og:image" content="{{ $ogImage }}"/>
	<meta name="twitter:card" content="summary_large_image" />
	{{ if isset .Params "og_title" }}
	<meta name="twitter:title" content="{{ .Params.og_title }}" />
	{{ else if eq .RelPermalink "/" }}
	<meta name="twitter:title" content="{{ .Site.Params.TitleSuffix }}" />
	{{ else if eq .Section "post" }}
	<meta name="twitter:title" content="{{ .Title }}" />
	{{ else }}
	<meta name="twitter:title" content="{{ .Title }} | {{ .Site.Params.TitleSuffix }}" />
	{{ end }}
	<meta name="twitter:description" content="{{ $description }}" />
	<meta name="twitter:image" content="{{ $ogImage }}" />
	{{ if eq .Section "post" }}
	<meta property="article:published_time" content="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}" />
	<meta property="article:modified_time" content="{{ .Lastmod.Format "2006-01-02T15:04:05Z07:00" }}" />
	{{ with .Params.tags }}
		{{ range . }}
	<meta property="article:tag" content="{{ . }}" />
		{{ end }}
	{{ end }}
	{{ end }}
	<meta name="theme-color" content="#DE6262"/>

	<!-- Enable responsiveness on mobile devices-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5">

	<!-- CSS -->
	{{ partialCached "fonts.html" . }}
	{{ $style := resources.Get "sass/main.scss" | css.Sass | css.PostCSS | resources.Minify | resources.Fingerprint }}
	<link media="all" rel="stylesheet" href="{{ $style.Permalink }}">

	<!-- Icons -->
	<link rel="apple-touch-icon" sizes="180x180" href="{{ "img/favicons/apple-touch-icon.png" | relURL }}">
	<link rel="icon" type="image/png" sizes="32x32" href="{{ "img/favicons/favicon-32x32.png" | relURL }}">
	<link rel="icon" type="image/png" sizes="16x16" href="{{ "img/favicons/favicon-16x16.png" | relURL }}">
	<link rel="manifest" href="{{ "img/favicons/site.webmanifest" | relURL }}">
	<link rel="mask-icon" href="{{ "img/favicons/safari-pinned-tab.svg" | relURL }}" color="#5bbad5">
	<meta name="msapplication-TileColor" content="#000000">
	<meta name="theme-color" content="#ffffff">

	<!-- RSS -->
	<link rel="alternate" type="application/rss+xml" title="RSS" href="{{ "index.xml" | relURL }}">
	{{ partial "schema.html" . }}

</head>
